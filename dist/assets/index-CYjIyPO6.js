var Ue=Object.defineProperty;var Fe=(t,e,n)=>e in t?Ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ce=(t,e,n)=>Fe(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const o of c.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function T(){}function Ie(t){return t()}function ye(){return Object.create(null)}function Q(t){t.forEach(Ie)}function Be(t){return typeof t=="function"}function Te(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ve(t){return Object.keys(t).length===0}function s(t,e){t.appendChild(e)}function N(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function ae(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function w(){return k(" ")}function qe(){return k("")}function ne(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ze(t,e,n){const l=new Set;for(let i=0;i<t.length;i+=1)t[i].checked&&l.add(t[i].__value);return n||l.delete(e),Array.from(l)}function De(t){let e;return{p(...n){e=n,e.forEach(l=>t.push(l))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function Ge(t){return Array.from(t.childNodes)}function Y(t,e){e=""+e,t.data!==e&&(t.data=e)}function le(t,e){t.value=e??""}let de;function X(t){de=t}const H=[],we=[];let J=[];const $e=[],He=Promise.resolve();let fe=!1;function Je(){fe||(fe=!0,He.then(Ke))}function ue(t){J.push(t)}const se=new Set;let G=0;function Ke(){if(G!==0)return;const t=de;do{try{for(;G<H.length;){const e=H[G];G++,X(e),Qe(e.$$)}}catch(e){throw H.length=0,G=0,e}for(X(null),H.length=0,G=0;we.length;)we.pop()();for(let e=0;e<J.length;e+=1){const n=J[e];se.has(n)||(se.add(n),n())}J.length=0}while(H.length);for(;$e.length;)$e.pop()();fe=!1,se.clear(),X(t)}function Qe(t){if(t.fragment!==null){t.update(),Q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ue)}}function We(t){const e=[],n=[];J.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),J=e}const Xe=new Set;function Re(t,e){t&&t.i&&(Xe.delete(t),t.i(e))}function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ye(t,e){t.d(1),e.delete(t.key)}function Ze(t,e,n,l,i,c,o,r,f,u,m,_){let v=t.length,a=c.length,h=v;const S={};for(;h--;)S[t[h].key]=h;const M=[],y=new Map,B=new Map,q=[];for(h=a;h--;){const p=_(i,c,h),$=n(p);let C=o.get($);C?q.push(()=>C.p(p,e)):(C=u($,p),C.c()),y.set($,M[h]=C),$ in S&&B.set($,Math.abs(h-S[$]))}const D=new Set,K=new Set;function L(p){Re(p,1),p.m(r,m),o.set(p.key,p),m=p.first,a--}for(;v&&a;){const p=M[a-1],$=t[v-1],C=p.key,R=$.key;p===$?(m=p.first,v--,a--):y.has(R)?!o.has(C)||D.has(C)?L(p):K.has(R)?v--:B.get(C)>B.get(R)?(K.add(C),L(p)):(D.add(R),v--):(f($,o),v--)}for(;v--;){const p=t[v];y.has(p.key)||f(p,o)}for(;a;)L(M[a-1]);return Q(q),M}function xe(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),ue(()=>{const c=t.$$.on_mount.map(Ie).filter(Be);t.$$.on_destroy?t.$$.on_destroy.push(...c):Q(c),t.$$.on_mount=[]}),i.forEach(ue)}function et(t,e){const n=t.$$;n.fragment!==null&&(We(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){t.$$.dirty[0]===-1&&(H.push(t),Je(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function nt(t,e,n,l,i,c,o=null,r=[-1]){const f=de;X(t);const u=t.$$={fragment:null,ctx:[],props:c,update:T,not_equal:i,bound:ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:ye(),dirty:r,skip_bound:!1,root:e.target||f.$$.root};o&&o(u.root);let m=!1;if(u.ctx=n?n(t,e.props||{},(_,v,...a)=>{const h=a.length?a[0]:v;return u.ctx&&i(u.ctx[_],u.ctx[_]=h)&&(!u.skip_bound&&u.bound[_]&&u.bound[_](h),m&&tt(t,_)),v}):[],u.update(),m=!0,Q(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const _=Ge(e.target);u.fragment&&u.fragment.l(_),_.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&Re(t.$$.fragment),xe(t,e.target,e.anchor),Ke()}X(f)}class lt{constructor(){ce(this,"$$");ce(this,"$$set")}$destroy(){et(this,1),this.$destroy=T}$on(e,n){if(!Be(n))return T;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Ve(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const it="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(it);function je(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Oe(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Ee(t,e,n){const l=t.slice();return l[15]=e[n],l[17]=n,l}function Ce(t,e,n){const l=t.slice();return l[18]=e[n],l}function Ae(t){let e,n=t[3].length+"",l,i;return{c(){e=k("／"),l=k(n),i=k("個 選択中")},m(c,o){N(c,e,o),N(c,l,o),N(c,i,o)},p(c,o){o&8&&n!==(n=c[3].length+"")&&Y(l,n)},d(c){c&&(E(e),E(l),E(i))}}}function ot(t){let e=[],n=new Map,l,i=V(t[0].sannen);const c=o=>o[18].yomi;for(let o=0;o<i.length;o+=1){let r=Ce(t,i,o),f=c(r);n.set(f,e[o]=Ne(f,r))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=qe()},m(o,r){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,r);N(o,l,r)},p(o,r){r&9&&(i=V(o[0].sannen),e=Ze(e,r,c,1,o,i,n,l.parentNode,Ye,Ne,l,Ce))},d(o){o&&E(l);for(let r=0;r<e.length;r+=1)e[r].d(o)}}}function ct(t){let e;return{c(){e=g("p"),e.textContent="Loading..."},m(n,l){N(n,e,l)},p:T,d(n){n&&E(e)}}}function Ne(t,e){let n,l,i,c,o=!1,r,f,u,m=e[18].kanji+"",_,v,a,h=e[18].yomi+"",S,M,y,B,q,D,K;return q=De(e[6][0]),{key:t,first:null,c(){n=g("p"),l=g("label"),i=g("input"),u=w(),_=k(m),v=g("span"),a=k("（"),S=k(h),M=k("）"),B=w(),d(i,"type","checkbox"),d(i,"name","kanji"),i.__value=c=e[18],le(i,i.__value),d(i,"id",r=e[18].yomi),i.disabled=f=e[3].length===re&&!e[3].includes(e[18]),d(v,"class","kana"),d(l,"for",y=e[18].yomi),d(n,"class","item"),q.p(i),this.first=n},m(L,p){N(L,n,p),s(n,l),s(l,i),i.checked=~(e[3]||[]).indexOf(i.__value),s(l,u),s(l,_),s(l,v),s(v,a),s(v,S),s(v,M),s(n,B),D||(K=ne(i,"change",e[8]),D=!0)},p(L,p){e=L,p&1&&c!==(c=e[18])&&(i.__value=c,le(i,i.__value),o=!0),p&1&&r!==(r=e[18].yomi)&&d(i,"id",r),p&9&&f!==(f=e[3].length===re&&!e[3].includes(e[18]))&&(i.disabled=f),(o||p&9)&&(i.checked=~(e[3]||[]).indexOf(i.__value)),p&1&&m!==(m=e[18].kanji+"")&&Y(_,m),p&1&&h!==(h=e[18].yomi+"")&&Y(S,h),p&1&&y!==(y=e[18].yomi)&&d(l,"for",y)},d(L){L&&E(n),q.r(),D=!1,K()}}}function st(t){let e,n=V(t[3]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Se(Oe(t,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=qe()},m(i,c){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,c);N(i,e,c)},p(i,c){if(c&8){n=V(i[3]);let o;for(o=0;o<n.length;o+=1){const r=Oe(i,n,o);l[o]?l[o].p(r,c):(l[o]=Se(r),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&E(e),ae(l,i)}}}function ft(t){let e;return{c(){e=g("p"),e.textContent="漢字を選んでください。"},m(n,l){N(n,e,l)},p:T,d(n){n&&E(e)}}}function Le(t){let e;return{c(){e=g("div"),d(e,"class","kanji")},m(n,l){N(n,e,l)},p:T,d(n){n&&E(e)}}}function Se(t){let e,n,l,i=t[11].yomi+"",c,o,r,f,u=V(Array.from({length:t[11].kanji.length})),m=[];for(let _=0;_<u.length;_+=1)m[_]=Le(Ee(t,u,_));return{c(){e=g("div"),n=g("div"),l=g("span"),l.textContent=`(${t[13]+1})`,c=k(i),o=w(),r=g("div");for(let _=0;_<m.length;_+=1)m[_].c();f=w(),d(l,"class","index"),d(n,"class","kana"),d(r,"class","kanji_box"),d(e,"class","item")},m(_,v){N(_,e,v),s(e,n),s(n,l),s(n,c),s(e,o),s(e,r);for(let a=0;a<m.length;a+=1)m[a]&&m[a].m(r,null);s(e,f)},p(_,v){if(v&8&&i!==(i=_[11].yomi+"")&&Y(c,i),v&8){u=V(Array.from({length:_[11].kanji.length}));let a;for(a=0;a<u.length;a+=1){const h=Ee(_,u,a);m[a]?m[a].p(h,v):(m[a]=Le(),m[a].c(),m[a].m(r,null))}for(;a<m.length;a+=1)m[a].d(1);m.length=u.length}},d(_){_&&E(e),ae(m,_)}}}function Me(t){let e,n,l,i=V(t[3]),c=[];for(let o=0;o<i.length;o+=1)c[o]=Pe(je(t,i,o));return{c(){e=g("div"),n=g("h3"),n.textContent="回答",l=w();for(let o=0;o<c.length;o+=1)c[o].c();d(n,"class","noprint"),d(e,"class","answer")},m(o,r){N(o,e,r),s(e,n),s(e,l);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(e,null)},p(o,r){if(r&8){i=V(o[3]);let f;for(f=0;f<i.length;f+=1){const u=je(o,i,f);c[f]?c[f].p(u,r):(c[f]=Pe(u),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=i.length}},d(o){o&&E(e),ae(c,o)}}}function Pe(t){let e,n,l=t[11].kanji+"",i,c;return{c(){e=g("div"),n=g("span"),n.textContent=`(${t[13]+1})`,i=k(l),c=w(),d(n,"class","index"),d(e,"class","item")},m(o,r){N(o,e,r),s(e,n),s(e,i),s(e,c)},p(o,r){r&8&&l!==(l=o[11].kanji+"")&&Y(i,l)},d(o){o&&E(e)}}}function ut(t){let e,n,l,i,c,o,r,f,u,m,_,v,a,h,S,M,y,B,q,D,K,L,p,$,C,R,_e,W,U,he,pe,F,z,Z,ge,me,x,ie,oe,ve,j=t[3].length>0&&Ae(t);function be(b,A){return b[1]?ct:ot}let ee=be(t),P=ee(t);function ke(b,A){return b[3].length<=0?ft:st}let te=ke(t),I=te(t),O=t[4]&&Me(t);return ie=De(t[6][1]),{c(){e=g("main"),n=g("div"),l=g("h1"),l.textContent="漢字練習問題作成",i=w(),c=g("h2"),c.textContent="フォント",o=w(),r=g("p"),f=g("label"),u=g("input"),m=k("游教科書体"),_=w(),v=g("p"),a=g("label"),h=g("input"),S=k("UDデジタル教科書体 ProN R"),M=w(),y=g("h2"),B=k("漢字候補（最大"),q=k(re),D=k("個"),j&&j.c(),K=k("）"),L=w(),p=g("div"),P.c(),C=w(),R=g("h2"),R.textContent="答え",_e=w(),W=g("label"),U=g("input"),he=k("答えも印刷する"),pe=w(),F=g("div"),z=g("div"),Z=g("h3"),Z.textContent="問題",ge=w(),I.c(),me=w(),O&&O.c(),d(u,"type","radio"),d(u,"name","font"),d(u,"id","font-yu"),u.__value="yu-font",le(u,u.__value),d(f,"for","font-yu"),d(r,"class","yu-font"),d(h,"type","radio"),d(h,"name","font"),d(h,"id","font-ud"),h.__value="ud-font",le(h,h.__value),d(a,"for","font-ud"),d(v,"class","ud-font"),d(p,"class",$="list "+t[2]),d(U,"type","checkbox"),d(U,"name","show_answer"),d(U,"id","show_answer"),d(W,"for","show_answer"),d(n,"class","noprint"),d(Z,"class","noprint"),d(z,"class","question"),d(F,"class",x="paper "+t[2]),d(e,"class",""),ie.p(u,h)},m(b,A){N(b,e,A),s(e,n),s(n,l),s(n,i),s(n,c),s(n,o),s(n,r),s(r,f),s(f,u),u.checked=u.__value===t[2],s(f,m),s(n,_),s(n,v),s(v,a),s(a,h),h.checked=h.__value===t[2],s(a,S),s(n,M),s(n,y),s(y,B),s(y,q),s(y,D),j&&j.m(y,null),s(y,K),s(n,L),s(n,p),P.m(p,null),s(n,C),s(n,R),s(n,_e),s(n,W),s(W,U),U.checked=t[4],s(W,he),s(e,pe),s(e,F),s(F,z),s(z,Z),s(z,ge),I.m(z,null),s(F,me),O&&O.m(F,null),oe||(ve=[ne(u,"change",t[5]),ne(h,"change",t[7]),ne(U,"change",t[9])],oe=!0)},p(b,[A]){A&4&&(u.checked=u.__value===b[2]),A&4&&(h.checked=h.__value===b[2]),b[3].length>0?j?j.p(b,A):(j=Ae(b),j.c(),j.m(y,K)):j&&(j.d(1),j=null),ee===(ee=be(b))&&P?P.p(b,A):(P.d(1),P=ee(b),P&&(P.c(),P.m(p,null))),A&4&&$!==($="list "+b[2])&&d(p,"class",$),A&16&&(U.checked=b[4]),te===(te=ke(b))&&I?I.p(b,A):(I.d(1),I=te(b),I&&(I.c(),I.m(z,null))),b[4]?O?O.p(b,A):(O=Me(b),O.c(),O.m(F,null)):O&&(O.d(1),O=null),A&4&&x!==(x="paper "+b[2])&&d(F,"class",x)},i:T,o:T,d(b){b&&E(e),j&&j.d(),P.d(),I.d(),O&&O.d(),ie.r(),oe=!1,Q(ve)}}}const re=20;function rt(t){const e=Object.keys(t),n=e.length;e[Math.floor(Math.random()*n)]}function at(t,e,n){let l=null,i=!0,c="yu-font",o=[],r=!1;async function f(){const h=await fetch("./kanji.json");n(0,l=await h.json()),n(1,i=!1),rt(l)}f();const u=[[],[]];function m(){c=this.__value,n(2,c)}function _(){c=this.__value,n(2,c)}function v(){o=ze(u[0],this.__value,this.checked),n(3,o)}function a(){r=this.checked,n(4,r)}return[l,i,c,o,r,m,u,_,v,a]}class dt extends lt{constructor(e){super(),nt(this,e,at,ut,Te,{})}}new dt({target:document.getElementById("app")});
