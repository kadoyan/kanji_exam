var tt=Object.defineProperty;var nt=(t,e,n)=>e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ge=(t,e,n)=>nt(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function z(){}function We(t){return t()}function Je(){return Object.create(null)}function le(t){t.forEach(We)}function Xe(t){return typeof t=="function"}function lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function it(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function I(t,e,n){t.insertBefore(e,n||null)}function L(t){t.parentNode&&t.parentNode.removeChild(t)}function we(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function y(){return C(" ")}function Ye(){return C("")}function ee(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ot(t,e,n){const l=new Set;for(let i=0;i<t.length;i+=1)t[i].checked&&l.add(t[i].__value);return n||l.delete(e),Array.from(l)}function Ze(t){let e;return{p(...n){e=n,e.forEach(l=>t.push(l))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function st(t){return Array.from(t.childNodes)}function ce(t,e){e=""+e,t.data!==e&&(t.data=e)}function F(t,e){t.value=e??""}let $e;function se(t){$e=t}const te=[],Re=[];let ne=[];const qe=[],ct=Promise.resolve();let be=!1;function ft(){be||(be=!0,ct.then(xe))}function ke(t){ne.push(t)}const ve=new Set;let x=0;function xe(){if(x!==0)return;const t=$e;do{try{for(;x<te.length;){const e=te[x];x++,se(e),ut(e.$$)}}catch(e){throw te.length=0,x=0,e}for(se(null),te.length=0,x=0;Re.length;)Re.pop()();for(let e=0;e<ne.length;e+=1){const n=ne[e];ve.has(n)||(ve.add(n),n())}ne.length=0}while(te.length);for(;qe.length;)qe.pop()();be=!1,ve.clear(),se(t)}function ut(t){if(t.fragment!==null){t.update(),le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ke)}}function rt(t){const e=[],n=[];ne.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),ne=e}const at=new Set;function et(t,e){t&&t.i&&(at.delete(t),t.i(e))}function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function _t(t,e){t.d(1),e.delete(t.key)}function dt(t,e,n,l,i,s,o,u,f,r,m,h){let g=t.length,d=s.length,p=g;const B={};for(;p--;)B[t[p].key]=p;const j=[],k=new Map,O=new Map,E=[];for(p=d;p--;){const v=h(i,s,p),M=n(v);let P=o.get(M);P?E.push(()=>P.p(v,e)):(P=r(M,v),P.c()),k.set(M,j[p]=P),M in B&&O.set(M,Math.abs(p-B[M]))}const w=new Set,J=new Set;function $(v){et(v,1),v.m(u,m),o.set(v.key,v),m=v.first,d--}for(;g&&d;){const v=j[d-1],M=t[g-1],P=v.key,K=M.key;v===M?(m=v.first,g--,d--):k.has(K)?!o.has(P)||w.has(P)?$(v):J.has(K)?g--:O.get(P)>O.get(K)?(J.add(P),$(v)):(w.add(K),g--):(f(M,o),g--)}for(;g--;){const v=t[g];k.has(v.key)||f(v,o)}for(;d;)$(j[d-1]);return le(E),j}function ht(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),ke(()=>{const s=t.$$.on_mount.map(We).filter(Xe);t.$$.on_destroy?t.$$.on_destroy.push(...s):le(s),t.$$.on_mount=[]}),i.forEach(ke)}function pt(t,e){const n=t.$$;n.fragment!==null&&(rt(n.after_update),le(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(t,e){t.$$.dirty[0]===-1&&(te.push(t),ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(t,e,n,l,i,s,o=null,u=[-1]){const f=$e;se(t);const r=t.$$={fragment:null,ctx:[],props:s,update:z,not_equal:i,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Je(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};o&&o(r.root);let m=!1;if(r.ctx=n?n(t,e.props||{},(h,g,...d)=>{const p=d.length?d[0]:g;return r.ctx&&i(r.ctx[h],r.ctx[h]=p)&&(!r.skip_bound&&r.bound[h]&&r.bound[h](p),m&&mt(t,h)),g}):[],r.update(),m=!0,le(r.before_update),r.fragment=l?l(r.ctx):!1,e.target){if(e.hydrate){const h=st(e.target);r.fragment&&r.fragment.l(h),h.forEach(L)}else r.fragment&&r.fragment.c();e.intro&&et(t.$$.fragment),ht(t,e.target,e.anchor),xe()}se(f)}class vt{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){pt(this,1),this.$destroy=z}$on(e,n){if(!Xe(n))return z;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!it(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bt);function De(t,e,n){const l=t.slice();return l[13]=e[n],l[15]=n,l}function Fe(t,e,n){const l=t.slice();return l[13]=e[n],l[15]=n,l}function Ke(t,e,n){const l=t.slice();return l[17]=e[n],l[19]=n,l}function Te(t,e,n){const l=t.slice();return l[20]=e[n],l}function Ue(t){let e,n=t[3].length+"",l,i;return{c(){e=C("／"),l=C(n),i=C(`問
				選択中`)},m(s,o){I(s,e,o),I(s,l,o),I(s,i,o)},p(s,o){o&8&&n!==(n=s[3].length+"")&&ce(l,n)},d(s){s&&(L(e),L(l),L(i))}}}function kt(t){let e=[],n=new Map,l,i=V(t[0]);const s=o=>o[20].yomi;for(let o=0;o<i.length;o+=1){let u=Te(t,i,o),f=s(u);n.set(f,e[o]=ze(f,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=Ye()},m(o,u){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,u);I(o,l,u)},p(o,u){u&9&&(i=V(o[0]),e=dt(e,u,s,1,o,i,n,l.parentNode,_t,ze,l,Te))},d(o){o&&L(l);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function yt(t){let e;return{c(){e=_("p"),e.textContent="Loading..."},m(n,l){I(n,e,l)},p:z,d(n){n&&L(e)}}}function ze(t,e){let n,l,i,s,o=!1,u,f,r,m=e[20].kanji+"",h,g,d,p=e[20].yomi+"",B,j,k,O,E,w,J;return E=Ze(e[8][0]),{key:t,first:null,c(){n=_("p"),l=_("label"),i=_("input"),r=y(),h=C(m),g=_("span"),d=C("（"),B=C(p),j=C("）"),O=y(),a(i,"type","checkbox"),a(i,"name","kanji"),i.__value=s=e[20],F(i,i.__value),a(i,"id",u=e[20].yomi),i.disabled=f=e[3].length===ye&&!e[3].includes(e[20]),a(g,"class","kana"),a(l,"for",k=e[20].yomi),a(n,"class","item"),E.p(i),this.first=n},m($,v){I($,n,v),c(n,l),c(l,i),i.checked=~(e[3]||[]).indexOf(i.__value),c(l,r),c(l,h),c(l,g),c(g,d),c(g,B),c(g,j),c(n,O),w||(J=ee(i,"change",e[10]),w=!0)},p($,v){e=$,v&1&&s!==(s=e[20])&&(i.__value=s,F(i,i.__value),o=!0),v&1&&u!==(u=e[20].yomi)&&a(i,"id",u),v&9&&f!==(f=e[3].length===ye&&!e[3].includes(e[20]))&&(i.disabled=f),(o||v&9)&&(i.checked=~(e[3]||[]).indexOf(i.__value)),v&1&&m!==(m=e[20].kanji+"")&&ce(h,m),v&1&&p!==(p=e[20].yomi+"")&&ce(B,p),v&1&&k!==(k=e[20].yomi)&&a(l,"for",k)},d($){$&&L(n),E.r(),w=!1,J()}}}function wt(t){let e,n=V(t[3]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Ge(Fe(t,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=Ye()},m(i,s){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,s);I(i,e,s)},p(i,s){if(s&8){n=V(i[3]);let o;for(o=0;o<n.length;o+=1){const u=Fe(i,n,o);l[o]?l[o].p(u,s):(l[o]=Ge(u),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&L(e),we(l,i)}}}function $t(t){let e;return{c(){e=_("p"),e.textContent="漢字を選んでください。"},m(n,l){I(n,e,l)},p:z,d(n){n&&L(e)}}}function Ve(t){let e;return{c(){e=_("div"),a(e,"class","kanji")},m(n,l){I(n,e,l)},p:z,d(n){n&&L(e)}}}function Ge(t){let e,n,l,i=t[13].yomi+"",s,o,u,f,r=V(Array.from({length:t[13].kanji.length})),m=[];for(let h=0;h<r.length;h+=1)m[h]=Ve(Ke(t,r,h));return{c(){e=_("div"),n=_("div"),l=_("span"),l.textContent=`(${t[15]+1})`,s=C(i),o=y(),u=_("div");for(let h=0;h<m.length;h+=1)m[h].c();f=y(),a(l,"class","index"),a(n,"class","kana"),a(u,"class","kanji_box"),a(e,"class","item")},m(h,g){I(h,e,g),c(e,n),c(n,l),c(n,s),c(e,o),c(e,u);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(u,null);c(e,f)},p(h,g){if(g&8&&i!==(i=h[13].yomi+"")&&ce(s,i),g&8){r=V(Array.from({length:h[13].kanji.length}));let d;for(d=0;d<r.length;d+=1){const p=Ke(h,r,d);m[d]?m[d].p(p,g):(m[d]=Ve(),m[d].c(),m[d].m(u,null))}for(;d<m.length;d+=1)m[d].d(1);m.length=r.length}},d(h){h&&L(e),we(m,h)}}}function He(t){let e,n,l,i=V(t[3]),s=[];for(let o=0;o<i.length;o+=1)s[o]=Qe(De(t,i,o));return{c(){e=_("div"),n=_("h3"),n.textContent="回答",l=y();for(let o=0;o<s.length;o+=1)s[o].c();a(n,"class","noprint"),a(e,"class","answer")},m(o,u){I(o,e,u),c(e,n),c(e,l);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null)},p(o,u){if(u&8){i=V(o[3]);let f;for(f=0;f<i.length;f+=1){const r=De(o,i,f);s[f]?s[f].p(r,u):(s[f]=Qe(r),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=i.length}},d(o){o&&L(e),we(s,o)}}}function Qe(t){let e,n,l=t[13].kanji+"",i,s;return{c(){e=_("div"),n=_("span"),n.textContent=`(${t[15]+1})`,i=C(l),s=y(),a(n,"class","index"),a(e,"class","item")},m(o,u){I(o,e,u),c(e,n),c(e,i),c(e,s)},p(o,u){u&8&&l!==(l=o[13].kanji+"")&&ce(i,l)},d(o){o&&L(e)}}}function Ct(t){let e,n,l,i,s,o,u,f,r,m,h,g,d,p,B,j,k,O,E,w,J,$,v,M,P,K,Ce,ie,D,H,Q,W,X,Y,je,fe,Oe,Z,ue,Ee,he,Ne,oe,T,Ae,Se,U,G,re,Le,Me,ae,pe,me,Pe,N=t[3].length>0&&Ue(t);function Ie(b,S){return b[1]?yt:kt}let _e=Ie(t),R=_e(t);function Be(b,S){return b[3].length<=0?$t:wt}let de=Be(t),q=de(t),A=t[4]&&He(t);return pe=Ze(t[8][1]),{c(){e=_("main"),n=_("div"),l=_("h1"),l.textContent="漢字練習問題作成",i=y(),s=_("h2"),s.textContent="フォント（ローカルにインストールが必要です）",o=y(),u=_("p"),f=_("label"),r=_("input"),m=C("游教科書体"),h=y(),g=_("p"),d=_("label"),p=_("input"),B=C("UDデジタル教科書体 ProN R"),j=y(),k=_("div"),O=_("h2"),O.textContent="JSONをアップロード",E=y(),w=_("input"),J=y(),$=_("h2"),v=C("漢字候補（最大"),M=C(ye),P=C("問"),N&&N.c(),K=C("）"),Ce=y(),ie=_("div"),D=_("select"),H=_("option"),H.textContent="ランダム選択する数",Q=_("option"),Q.textContent="5問",W=_("option"),W.textContent="10問",X=_("option"),X.textContent="15問",Y=_("option"),Y.textContent="20問",je=y(),fe=_("button"),fe.textContent="ランダムに選ぶ",Oe=y(),Z=_("div"),R.c(),Ee=y(),he=_("h2"),he.textContent="答え",Ne=y(),oe=_("label"),T=_("input"),Ae=C("答えも印刷する"),Se=y(),U=_("div"),G=_("div"),re=_("h3"),re.textContent="問題",Le=y(),q.c(),Me=y(),A&&A.c(),a(r,"type","radio"),a(r,"name","font"),a(r,"id","font-yu"),r.__value="yu-font",F(r,r.__value),a(f,"for","font-yu"),a(u,"class","yu-font"),a(p,"type","radio"),a(p,"name","font"),a(p,"id","font-ud"),p.__value="ud-font",F(p,p.__value),a(d,"for","font-ud"),a(g,"class","ud-font"),a(w,"type","file"),a(w,"name","json"),a(w,"id","custom_json"),a(w,"accept",".json"),H.__value="",F(H,H.__value),Q.__value="5",F(Q,Q.__value),W.__value="10",F(W,W.__value),X.__value="15",F(X,X.__value),Y.__value="20",F(Y,Y.__value),a(D,"name","num_of_choose"),a(D,"id","num_of_choose"),a(Z,"class",ue="list "+t[2]),a(T,"type","checkbox"),a(T,"name","show_answer"),a(T,"id","show_answer"),a(oe,"for","show_answer"),a(n,"class","noprint"),a(re,"class","noprint"),a(G,"class","question"),a(U,"class",ae="paper "+t[2]),a(e,"class",t[2]),pe.p(r,p)},m(b,S){I(b,e,S),c(e,n),c(n,l),c(n,i),c(n,s),c(n,o),c(n,u),c(u,f),c(f,r),r.checked=r.__value===t[2],c(f,m),c(n,h),c(n,g),c(g,d),c(d,p),p.checked=p.__value===t[2],c(d,B),c(n,j),c(n,k),c(k,O),c(k,E),c(k,w),c(n,J),c(n,$),c($,v),c($,M),c($,P),N&&N.m($,null),c($,K),c(n,Ce),c(n,ie),c(ie,D),c(D,H),c(D,Q),c(D,W),c(D,X),c(D,Y),c(ie,je),c(ie,fe),c(n,Oe),c(n,Z),R.m(Z,null),c(n,Ee),c(n,he),c(n,Ne),c(n,oe),c(oe,T),T.checked=t[4],c(oe,Ae),c(e,Se),c(e,U),c(U,G),c(G,re),c(G,Le),q.m(G,null),c(U,Me),A&&A.m(U,null),me||(Pe=[ee(r,"change",t[7]),ee(p,"change",t[9]),ee(w,"change",t[6]),ee(fe,"click",t[5]),ee(T,"change",t[11])],me=!0)},p(b,[S]){S&4&&(r.checked=r.__value===b[2]),S&4&&(p.checked=p.__value===b[2]),b[3].length>0?N?N.p(b,S):(N=Ue(b),N.c(),N.m($,K)):N&&(N.d(1),N=null),_e===(_e=Ie(b))&&R?R.p(b,S):(R.d(1),R=_e(b),R&&(R.c(),R.m(Z,null))),S&4&&ue!==(ue="list "+b[2])&&a(Z,"class",ue),S&16&&(T.checked=b[4]),de===(de=Be(b))&&q?q.p(b,S):(q.d(1),q=de(b),q&&(q.c(),q.m(G,null))),b[4]?A?A.p(b,S):(A=He(b),A.c(),A.m(U,null)):A&&(A.d(1),A=null),S&4&&ae!==(ae="paper "+b[2])&&a(U,"class",ae),S&4&&a(e,"class",b[2])},i:z,o:z,d(b){b&&L(e),N&&N.d(),R.d(),q.d(),A&&A.d(),pe.r(),me=!1,le(Pe)}}}const ye=20;function jt(t){Object.keys(t).length}function Ot(t,e,n){let l=null,i=!0,s="yu-font",o=[],u=!1;async function f(){const j=await fetch("./kanji.json");n(0,l=await j.json()),n(1,i=!1),jt(l)}f();function r(){const j=document.getElementById("num_of_choose");let k=0;if(j&&(k=Number(j.value)),k>0){const O=[];let E=new Set,w=k;for(l.length<k&&(w=l.length);E.size<w;)E.add(Math.floor(Math.random()*l.length));E.forEach(J=>{O.push(l[J])}),n(3,o=O)}}async function m(j){const k=j.target.files[0],O=new FileReader;O.onload=function(E){try{n(0,l=JSON.parse(E.target.result))}catch{return!1}},O.onerror=function(){return!1},O.readAsText(k)}const h=[[],[]];function g(){s=this.__value,n(2,s)}function d(){s=this.__value,n(2,s)}function p(){o=ot(h[0],this.__value,this.checked),n(3,o)}function B(){u=this.checked,n(4,u)}return[l,i,s,o,u,r,m,g,h,d,p,B]}class Et extends vt{constructor(e){super(),gt(this,e,Ot,Ct,lt,{})}}new Et({target:document.getElementById("app")});
